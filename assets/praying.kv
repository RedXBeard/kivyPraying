#:import get_color_from_hex kivy.utils.get_color_from_hex
#:import trans __main__.trans

<Label>
    canvas.before:
        Color:
            rgba: get_color_from_hex('ffffff')
        Rectangle:
            pos: self.pos[0], self.pos[1]+sp(25)/2
            size: self.size[0], self.size[1]-sp(25)
        Rectangle:
            pos: self.pos[0]+sp(25)/2, self.pos[1]
            size: self.size[0]-sp(25), self.size[1]
        Ellipse:
            size: sp(25), sp(25)
            pos: self.pos[0], self.pos[1]
        Ellipse:
            size: sp(25), sp(25)
            pos: self.pos[0], self.pos[1]+self.height-sp(25)
        Ellipse:
            size: sp(25), sp(25)
            pos: self.pos[0]+self.width-sp(25), self.pos[1]
        Ellipse:
            size: sp(25), sp(25)
            pos: self.pos[0]+self.width-sp(25), self.pos[1]+self.height-sp(25)
    padding: 20, 15
    size_hint_y: None
    text_size: self.size
    line_height: 1.5
    markup: True
    halign: 'left'
    valign: 'top'
    color: get_color_from_hex('#000000')
    height: sp(40)
    font_size: sp(20)

<CheckBox>
    canvas.before:
        Color:
            rgba: get_color_from_hex('ffffff')
        Rectangle:
            pos: self.pos[0], self.pos[1]+sp(25)/2
            size: self.size[0], self.size[1]-sp(25)
        Rectangle:
            pos: self.pos[0]+sp(25)/2, self.pos[1]
            size: self.size[0]-sp(25), self.size[1]
        Ellipse:
            size: sp(25), sp(25)
            pos: self.pos[0], self.pos[1]
        Ellipse:
            size: sp(25), sp(25)
            pos: self.pos[0], self.pos[1]+self.height-sp(25)
        Ellipse:
            size: sp(25), sp(25)
            pos: self.pos[0]+self.width-sp(25), self.pos[1]
        Ellipse:
            size: sp(25), sp(25)
            pos: self.pos[0]+self.width-sp(25), self.pos[1]+self.height-sp(25)

<GridLayout>
    spacing: 15, 15

<Praying>
    welcome: welcome
    entrance: entrance
    data: data

    Screen:
        id: welcome
        name: 'welcome'
        progressbar: progressbar

        GridLayout:
            rows: 3
            cols: 1
            padding: 15, 15, 15, 15
            spacing: sp(40), sp(40)

            Image:
                source: 'assets/prayerapp.png'
                valign: 'center'

            ProgressBar:
                id: progressbar
                max: 1000
                value: 0
                size_hint_y: None
                height: sp(40)

            Widget:

    Screen:
        id: entrance
        name: 'entrance'
        times: times
        missed: missed
        today: today
        info: info

        sabah: sabah
        ogle: ogle
        ikindi: ikindi
        aksam: aksam
        yatsi: yatsi
        vitr: vitr

        GridLayout:
            cols: 1
            rows: 6

            padding: 15, 15, 15, 15
            spacing: sp(40), sp(40)

            GridLayout:
                cols: 2
                rows: 1
                size_hint_y: None
                height: sp(0)

                Widget:
                LangSpinner:
                    canvas.before:
                        Color:
                            rgba: get_color_from_hex('D2D1BE')
                    size_hint: None, None
                    height: sp(30)
                    width: sp(120)
                    values: 'Turkce', 'English'
                    values_dict: {'Turkce': 'tr','English': 'en'}
                    text_size: self.size
                    sync_height: True
                    halign: 'center'
                    font_size: sp(15)


            Label:
                id: today
                name: 'today'
                halign: 'center'

            GridLayout:
                id: times
                name: 'times'

                cols: 2
                rows: 3

                spacing: sp(20), sp(20)

                GridLayout:
                    cols: 2
                    rows: 1
                    spacing: sp(-20), sp(0)
                    size_hint_y: None
                    height: sp(40)
                    Label:
                        text: trans._('Sabah')
                    PrayedCheckBox:
                        id: sabah
                        name: 'sabah'
                        size_hint: None, None
                        height: sp(40)
                        width: sp(40)

                GridLayout:
                    cols: 2
                    rows: 1
                    spacing: sp(-20), sp(0)
                    size_hint_y: None
                    height: sp(40)
                    Label:
                        text: trans._('Ogle')
                    PrayedCheckBox:
                        id: ogle
                        name: 'ogle'
                        size_hint: None, None
                        height: sp(40)
                        width: sp(40)

                GridLayout:
                    cols: 2
                    rows: 1
                    spacing: sp(-20), sp(0)
                    size_hint_y: None
                    height: sp(40)
                    Label:
                        text: trans._('Ikindi')
                    PrayedCheckBox:
                        id: ikindi
                        name: 'ikindi'
                        size_hint: None, None
                        height: sp(40)
                        width: sp(40)

                GridLayout:
                    cols: 2
                    rows: 1
                    spacing: sp(-20), sp(0)
                    size_hint_y: None
                    height: sp(40)
                    Label:
                        text: trans._('Aksam')
                    PrayedCheckBox:
                        id: aksam
                        name: 'aksam'
                        size_hint: None, None
                        height: sp(40)
                        width: sp(40)

                GridLayout:
                    cols: 2
                    rows: 1
                    spacing: sp(-20), sp(0)
                    size_hint_y: None
                    height: sp(40)
                    Label:
                        text: trans._('Yatsi')
                    PrayedCheckBox:
                        id: yatsi
                        name: 'yatsi'
                        size_hint: None, None
                        height: sp(40)
                        width: sp(40)

                GridLayout:
                    cols: 2
                    rows: 1
                    spacing: sp(-20), sp(0)
                    size_hint_y: None
                    height: sp(40)
                    Label:
                        text: trans._('Vitr')
                    PrayedCheckBox:
                        id: vitr
                        name: 'vitr'
                        size_hint: None, None
                        height: sp(40)
                        width: sp(40)

            GridLayout:
                canvas.before:
                    Color:
                        rgba: get_color_from_hex('ffffff')
                    Rectangle:
                        pos: self.pos[0], self.pos[1]+sp(25)/2
                        size: self.size[0], self.size[1]-sp(25)
                    Rectangle:
                        pos: self.pos[0]+sp(25)/2, self.pos[1]
                        size: self.size[0]-sp(25), self.size[1]
                    Ellipse:
                        size: sp(25), sp(25)
                        pos: self.pos[0], self.pos[1]
                    Ellipse:
                        size: sp(25), sp(25)
                        pos: self.pos[0], self.pos[1]+self.height-sp(25)
                    Ellipse:
                        size: sp(25), sp(25)
                        pos: self.pos[0]+self.width-sp(25), self.pos[1]
                    Ellipse:
                        size: sp(25), sp(25)
                        pos: self.pos[0]+self.width-sp(25), self.pos[1]+self.height-sp(25)
                id: info
                rows: 1
                cols: 5

                hours: hours
                minutes: minutes
                seconds: seconds
                size_hint_y: None
                height: sp(40)

                Label:
                    id: hours
                    halign: 'right'
                    text: '23'

                Label:
                    halign: 'center'
                    text: ':'
                    size_hint_x: None
                    width: sp(10)

                Label:
                    id: minutes
                    halign: 'center'
                    text: '59'
                    size_hint_x: None
                    width: sp(50)

                Label:
                    halign: 'center'
                    text: ':'
                    size_hint_x: None
                    width: sp(10)

                Label:
                    id: seconds
                    halign: 'left'
                    text: '59'

            GridLayout:
                id: missed

                missed_sabah: missed_sabah
                missed_ogle: missed_ogle
                missed_ikindi: missed_ikindi
                missed_aksam: missed_aksam
                missed_yatsi: missed_yatsi
                missed_vitr: missed_vitr

                cols: 6
                rows: 1

                spacing: sp(10), sp(10)
                size_hint_y: None
                height: sp(110)

                GridLayout:
                    id: missed_sabah
                    name: 'sabah'

                    sabah_count: sabah_count
                    sabah_button: sabah_button

                    cols: 1
                    rows: 3
                    size_hint_y: None
                    height: sp(30)
                    Label:
                        text: trans._('Sabah')
                        halign: 'center'
                        padding: 20, 10
                        height: sp(30)
                        font_size: sp(15)
                    Label:
                        id: sabah_count
                        halign: 'center'
                        padding: 20, 10
                        height: sp(30)
                        font_size: sp(15)
                    MissedCheckBox:
                        id: sabah_button
                        name: 'sabah'
                        size_hint_y: None
                        height: sp(30)

                GridLayout:
                    id: missed_ogle
                    name: 'ogle'

                    ogle_count: ogle_count
                    ogle_button: ogle_button

                    cols: 1
                    rows: 3
                    size_hint_y: None
                    height: sp(30)
                    Label:
                        text: trans._(u'Ogle')
                        halign: 'center'
                        padding: 20, 10
                        height: sp(30)
                        font_size: sp(15)
                    Label:
                        id: ogle_count
                        halign: 'center'
                        padding: 20, 10
                        height: sp(30)
                        font_size: sp(15)
                    MissedCheckBox:
                        id: ogle_button
                        name: 'ogle'
                        size_hint_y: None
                        height: sp(30)

                GridLayout:
                    id: missed_ikindi
                    name: 'ikindi'

                    ikindi_count: ikindi_count
                    ikindi_button: ikindi_button

                    cols: 1
                    rows: 3
                    size_hint_y: None
                    height: sp(30)
                    Label:
                        text: trans._('Ikindi')
                        halign: 'center'
                        padding: 20, 10
                        height: sp(30)
                        font_size: sp(15)
                    Label:
                        id: ikindi_count
                        halign: 'center'
                        padding: 20, 10
                        height: sp(30)
                        font_size: sp(15)
                    MissedCheckBox:
                        id: ikindi_button
                        name: 'ikindi'
                        size_hint_y: None
                        height: sp(30)

                GridLayout:
                    id: missed_aksam
                    name: 'aksam'

                    aksam_count: aksam_count
                    aksam_button: aksam_button

                    cols: 1
                    rows: 3
                    size_hint_y: None
                    height: sp(30)
                    Label:
                        text: trans._('Aksam')
                        halign: 'center'
                        padding: 20, 10
                        height: sp(30)
                        font_size: sp(15)
                    Label:
                        id: aksam_count
                        halign: 'center'
                        padding: 20, 10
                        height: sp(30)
                        font_size: sp(15)
                    MissedCheckBox:
                        id: aksam_button
                        name: 'aksam'
                        size_hint_y: None
                        height: sp(30)

                GridLayout:
                    id: missed_yatsi
                    name: 'yatsi'

                    yatsi_count: yatsi_count
                    yatsi_button: yatsi_button

                    cols: 1
                    rows: 3
                    size_hint_y: None
                    height: sp(30)
                    Label:
                        text: trans._('Yatsi')
                        halign: 'center'
                        padding: 20, 10
                        height: sp(30)
                        font_size: sp(15)
                    Label:
                        id: yatsi_count
                        halign: 'center'
                        padding: 20, 10
                        height: sp(30)
                        font_size: sp(15)
                    MissedCheckBox:
                        id: yatsi_button
                        name: 'yatsi'
                        size_hint_y: None
                        height: sp(30)

                GridLayout:
                    id: missed_vitr
                    name: 'vitr'

                    vitr_count: vitr_count
                    vitr_button: vitr_button

                    cols: 1
                    rows: 3
                    size_hint_y: None
                    height: sp(30)
                    Label:
                        text: trans._('Vitr')
                        halign: 'center'
                        padding: 20, 10
                        height: sp(30)
                        font_size: sp(15)
                    Label:
                        id: vitr_count
                        halign: 'center'
                        padding: 20, 10
                        height: sp(30)
                        font_size: sp(15)
                    MissedCheckBox:
                        id: vitr_button
                        name: 'vitr'
                        size_hint_y: None
                        height: sp(30)

            GridLayout:
                cols: 3
                rows: 1
                size_hint_y: None
                height: sp(60)

                ResetButton:
                    text: trans._('Sifirla')
                    halign: 'center'
                    size_hint_x: None
                    width: sp(150)
                    height: sp(30)
                    font_size: sp(15)
                    padding: 0, 10

                Widget:

                RecordButton:
                    text: trans._('Kayitlar')
                    halign: 'center'
                    size_hint_x: None
                    width: sp(150)
                    height: sp(30)
                    font_size: sp(15)
                    padding: 0, 10


    Screen:
        id: data
        name: 'data'
        record: record

        GridLayout:
            cols: 1
            rows: 2
            padding: 10, 10, 10, 10

            BackButton:
                text: trans._('Geri')
                halign: 'center'
                size_hint_x: None
                width: sp(60)
                height: sp(30)
                font_size: sp(15)
                padding: 0, 10

            GridLayout:
                cols: 1
                rows: 1
                padding: 50, 10, 50, 10

                TextInput:
                    id: record
